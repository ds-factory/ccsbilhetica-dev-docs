"use strict";(self.webpackChunkccsbilhetica_dev_docs=self.webpackChunkccsbilhetica_dev_docs||[]).push([[6911],{3745:(e,c,s)=>{s.r(c),s.d(c,{assets:()=>a,contentTitle:()=>t,default:()=>p,frontMatter:()=>o,metadata:()=>n,toc:()=>d});const n=JSON.parse('{"id":"projects/api-backend","title":"API Backend (Laravel)","description":"Reposit\xf3rio: github.com/ds-factory/ccsbilhetica-api.git","source":"@site/docs/projects/api-backend.md","sourceDirName":"projects","slug":"/projects/api-backend","permalink":"/ccsbilhetica-dev-docs/docs/projects/api-backend","draft":false,"unlisted":false,"editUrl":"https://github.com/ds-factory/ccsbilhetica-dev-docs/edit/main/docs/projects/api-backend.md","tags":[],"version":"current","lastUpdatedAt":1749843219000,"frontMatter":{},"sidebar":"sidebars","previous":{"title":"Vis\xe3o geral","permalink":"/ccsbilhetica-dev-docs/docs/projects/overview"},"next":{"title":"Backoffice (React\xa0+\xa0Vite)","permalink":"/ccsbilhetica-dev-docs/docs/projects/backoffice"}}');var i=s(4848),r=s(8453);const o={},t="API Backend (Laravel)",a={},d=[{value:"Resumo",id:"resumo",level:2},{value:"Como executar",id:"como-executar",level:2},{value:"P\xf3s\u2011deploy",id:"p\xf3sdeploy",level:3},{value:"Estrutura Docker",id:"estrutura-docker",level:3},{value:"Workflows CI/CD",id:"workflows-cicd",level:3}];function l(e){const c={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(c.header,{children:(0,i.jsx)(c.h1,{id:"api-backend-laravel",children:"API Backend (Laravel)"})}),"\n",(0,i.jsxs)(c.p,{children:["Reposit\xf3rio: ",(0,i.jsx)(c.a,{href:"https://github.com/ds-factory/ccsbilhetica-api.git",children:"github.com/ds-factory/ccsbilhetica-api.git"})]}),"\n",(0,i.jsx)(c.h2,{id:"resumo",children:"Resumo"}),"\n",(0,i.jsxs)(c.p,{children:["API central que gerencia eventos, bilhetes, assentos, pedidos e operadores. Constru\xedda em ",(0,i.jsx)(c.strong,{children:"Laravel\xa010"})," com ambiente multi\u2011container (",(0,i.jsx)(c.strong,{children:"PHP\u2011FPM + Nginx + MySQL + PhpMyAdmin"}),")."]}),"\n",(0,i.jsx)(c.h2,{id:"como-executar",children:"Como executar"}),"\n",(0,i.jsx)(c.pre,{children:(0,i.jsx)(c.code,{className:"language-bash",children:"git clone https://github.com/ds-factory/ccsbilhetica-api.git\ncd ccsbilhetica-api\ncp .env.example .env            # ajuste credenciais se necess\xe1rio\ndocker compose up -d --build    # inicia app, Nginx, base de dados e PhpMyAdmin\n"})}),"\n",(0,i.jsx)(c.h3,{id:"p\xf3sdeploy",children:"P\xf3s\u2011deploy"}),"\n",(0,i.jsx)(c.pre,{children:(0,i.jsx)(c.code,{className:"language-bash",children:"docker compose exec app composer install\ndocker compose exec app php artisan key:generate\ndocker compose exec app php artisan migrate --seed\n"})}),"\n",(0,i.jsxs)(c.p,{children:["A API fica dispon\xedvel em ",(0,i.jsx)(c.a,{href:"http://localhost:8000",children:"http://localhost:8000"}),"."]}),"\n",(0,i.jsx)(c.h3,{id:"estrutura-docker",children:"Estrutura Docker"}),"\n",(0,i.jsxs)(c.ul,{children:["\n",(0,i.jsxs)(c.li,{children:[(0,i.jsx)(c.strong,{children:"Dockerfile"})," instala PHP\xa08.2, extens\xf5es, Composer e prepara permiss\xf5es."]}),"\n",(0,i.jsxs)(c.li,{children:[(0,i.jsx)(c.strong,{children:"docker-compose.yml"})," define:","\n",(0,i.jsxs)(c.ul,{children:["\n",(0,i.jsxs)(c.li,{children:[(0,i.jsx)(c.code,{children:"app"})," \u2013 PHP\u2011FPM"]}),"\n",(0,i.jsxs)(c.li,{children:[(0,i.jsx)(c.code,{children:"nginx"})," \u2013 porta\xa08000"]}),"\n",(0,i.jsxs)(c.li,{children:[(0,i.jsx)(c.code,{children:"phpmyadmin"})," \u2013 porta\xa08081"]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(c.h3,{id:"workflows-cicd",children:"Workflows CI/CD"}),"\n",(0,i.jsxs)(c.ul,{children:["\n",(0,i.jsxs)(c.li,{children:[(0,i.jsx)(c.code,{children:"develop.yml"})," \u2013 deploy FTP para staging em cada push\xa0",(0,i.jsx)(c.code,{children:"develop"})]}),"\n",(0,i.jsxs)(c.li,{children:[(0,i.jsx)(c.code,{children:"staging.yml"})," \u2013 deploy FTP para staging em push\xa0",(0,i.jsx)(c.code,{children:"main"})]}),"\n",(0,i.jsxs)(c.li,{children:[(0,i.jsx)(c.code,{children:"production.yml"})," \u2013 deploy FTP para produ\xe7\xe3o em release publicado"]}),"\n"]})]})}function p(e={}){const{wrapper:c}={...(0,r.R)(),...e.components};return c?(0,i.jsx)(c,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,c,s)=>{s.d(c,{R:()=>o,x:()=>t});var n=s(6540);const i={},r=n.createContext(i);function o(e){const c=n.useContext(r);return n.useMemo((function(){return"function"==typeof e?e(c):{...c,...e}}),[c,e])}function t(e){let c;return c=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:o(e.components),n.createElement(r.Provider,{value:c},e.children)}}}]);